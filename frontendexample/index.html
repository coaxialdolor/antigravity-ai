<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multimodal Chat Frontend</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <div id="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">ü§ñ</div>
        <div class="title">Multimodal Chat</div>
      </div>
      <div class="section">
        <label for="modelSelect">Model</label>
        <select id="modelSelect">
          <option value="gpt-4o">gpt-4o</option>
          <option value="gpt-4o-mini" selected>gpt-4o-mini</option>
          <option value="gpt-4.1">gpt-4.1</option>
          <option value="gpt-4.1-mini">gpt-4.1-mini</option>
          <option value="realtime">realtime (voice)</option>
        </select>
      </div>
      <div class="section">
        <label for="voiceSelect">Voice</label>
        <select id="voiceSelect">
          <option value="alloy" selected>alloy</option>
          <option value="verse">verse</option>
          <option value="aria">aria</option>
          <option value="sage">sage</option>
        </select>
      </div>
      <div class="section">
        <label for="personalitySelect">Personality</label>
        <select id="personalitySelect">
          <option value="helpful" selected>Helpful</option>
          <option value="friendly">Friendly</option>
          <option value="technical">Technical</option>
          <option value="humorous">Humorous</option>
          <option value="socratic">Socratic</option>
        </select>
      </div>
      <div class="section">
        <button id="clearChatBtn" class="secondary-btn">Clear Chat</button>
      </div>
      <div class="section footnote">
        Tip: Drag & drop files or paste images into the chat.
      </div>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="topbar">
        <div class="status">
          <span class="dot" id="liveVoiceStatus"></span> Live voice
        </div>
        <div class="spacer"></div>
        <div class="top-actions">
          <button id="connectLiveBtn" title="Live voice to voice" class="chip">
            <span class="icon">üéß</span>
            <span>Connect</span>
          </button>
        </div>
      </header>
      <section id="chatLog" class="chat-log"></section>
      <footer class="composer">
        <div class="attachments" id="attachmentTray"></div>
        <div class="input-container">
          <textarea id="messageInput" rows="3" placeholder="How can I help you today?"></textarea>
          <button id="sendBtn" class="send-btn" aria-label="Send">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
          <div class="toolbar">
            <button id="uploadAnyBtn" title="Upload file" class="icon-btn" aria-label="Upload file">
              <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M5 20h14v-8h2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8h2v8zm7-16l5 5h-3v6h-4v-6H7l5-5z"/></svg>
            </button>
            <button id="uploadImageBtn" title="Upload image" class="icon-btn" aria-label="Upload image">
              <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M21 19V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14l4-4h12a2 2 0 0 0 2-2z"/></svg>
            </button>
            <button id="screenshotBtn" title="Screenshot (snip)" class="icon-btn" aria-label="Screenshot">
              <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M3 7h3l2-2h8l2 2h3v12H3zM12 8a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 8zm0 2a3 3 0 1 1-.002 6.002A3 3 0 0 1 12 10z"/></svg>
            </button>
            <button id="imageGenBtn" title="Generate image" class="icon-btn" aria-label="Generate image">
              üé®
            </button>
            <div class="voice-group">
              <button id="conversationBtn" title="New conversation" class="icon-btn" aria-label="New conversation">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
              </button>
              <button id="micBtn" title="Record for transcription" class="icon-btn" aria-label="Microphone">
                üéôÔ∏è
              </button>
              <button id="stopMicBtn" title="Stop recording" class="icon-btn danger" aria-label="Stop" style="display:none">
                ‚èπÔ∏è
              </button>
            </div>
          </div>
        </div>
        <!-- Hidden inputs -->
        <input type="file" id="anyFileInput" multiple style="display:none" />
        <input type="file" id="imageFileInput" accept="image/*" multiple style="display:none" />
      </footer>
    </main>
  </div>

  <!-- Screenshot Snipping Overlay -->
  <div id="snipOverlay" class="snip-overlay" style="display:none">
    <div class="snip-inner">
      <img id="snipImage" alt="screenshot"/>
      <div id="snipSelection" class="snip-selection" hidden></div>
      <div class="snip-actions">
        <button id="snipCancelBtn" class="secondary-btn">Cancel</button>
        <button id="snipConfirmBtn" class="primary-btn" disabled>Crop</button>
      </div>
    </div>
  </div>

  <!-- Code Preview Modal -->
  <div id="previewModal" class="modal" style="display:none">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">Preview</div>
        <button id="closePreviewBtn" class="icon-btn" aria-label="Close">‚úñÔ∏è</button>
      </div>
      <div class="modal-body">
        <div id="previewContainer">
          <!-- Will be replaced per language -->
        </div>
      </div>
    </div>
  </div>

  <!-- Image Generation Modal -->
  <div id="imageGenModal" class="modal" style="display:none">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">Generate Image</div>
        <button id="closeImageGenBtn" class="icon-btn">‚úñÔ∏è</button>
      </div>
      <div class="modal-body">
        <label>Prompt</label>
        <textarea id="imageGenPrompt" rows="3" placeholder="A photorealistic closeup of a raindrop on a leaf..."></textarea>
        <div class="row">
          <div>
            <label>Size</label>
            <select id="imageGenSize">
              <option value="512x512">512 x 512</option>
              <option value="768x768" selected>768 x 768</option>
              <option value="1024x1024">1024 x 1024</option>
            </select>
          </div>
          <div>
            <label>Style</label>
            <select id="imageGenStyle">
              <option value="photorealistic">photorealistic</option>
              <option value="illustration">illustration</option>
              <option value="flat">flat</option>
              <option value="anime">anime</option>
            </select>
          </div>
        </div>
        <div class="modal-actions">
          <button id="runImageGenBtn" class="primary-btn">Generate</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

